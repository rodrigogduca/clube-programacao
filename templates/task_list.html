{% extends 'base.html' %}

{% block content %}
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Tarefas</h2>
    <a class="btn btn-outline-orange" href="/admin/">Criar tarefa</a>
  </div>

  <div class="row g-3">
    {% for t in tasks %}
      <div class="col-md-6">
        <div class="task-card">
          <div class="flex-grow-1">
            <h6 class="mb-1"><a href="/tarefas/{{ t.pk }}/">{{ t.title }}</a></h6>
            <div class="text-muted">{{ t.description|truncatechars:120 }}</div>
          </div>
          <div class="text-end">
            {% if t.completed %}<span class="badge-complete">Conclu√≠da</span>{% else %}<span class="badge-pending">Pendente</span>{% endif %}
            <div class="text-muted small mt-2">{{ t.assigned_to }}</div>
          </div>
        </div>
      </div>
    {% empty %}
      <div class="col-12"><div class="card-soft">Nenhuma tarefa encontrada.</div></div>
    {% endfor %}
  </div>
{% endblock %}
